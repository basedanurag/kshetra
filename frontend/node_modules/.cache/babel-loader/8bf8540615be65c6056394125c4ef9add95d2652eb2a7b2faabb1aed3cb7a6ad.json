{"ast":null,"code":"import React,{useState}from'react';import'./TransferForm.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TransferForm=_ref=>{let{parcel,onSubmit,onCancel}=_ref;const[formData,setFormData]=useState({newOwner:'',reason:'',transferFee:0,documents:[]});const[submitting,setSubmitting]=useState(false);const[error,setError]=useState(null);const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:name==='transferFee'?Number(value):value}));setError(null);};const handleSubmit=async e=>{e.preventDefault();if(!formData.newOwner.trim()){setError('New owner principal is required');return;}if(!formData.reason.trim()){setError('Reason for transfer is required');return;}if(formData.transferFee<0){setError('Transfer fee cannot be negative');return;}setSubmitting(true);setError(null);try{const success=await onSubmit(formData);if(!success){setError('Transfer submission failed. Please try again.');}}catch(err){setError('An error occurred while submitting the transfer.');console.error('Transfer error:',err);}finally{setSubmitting(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"transfer-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Transfer Ownership\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Parcel: \",parcel.survey_number,\" (\",parcel.village,\", \",parcel.district,\")\"]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"newOwner\",children:\"New Owner Principal *\"}),/*#__PURE__*/_jsx(\"input\",{id:\"newOwner\",type:\"text\",name:\"newOwner\",value:formData.newOwner,onChange:handleInputChange,placeholder:\"Enter the principal ID of the new owner\",required:true,disabled:submitting}),/*#__PURE__*/_jsx(\"small\",{children:\"The Internet Computer principal ID of the new land owner\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"reason\",children:\"Reason for Transfer *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"reason\",name:\"reason\",value:formData.reason,onChange:handleInputChange,placeholder:\"Provide a reason for this ownership transfer\",rows:4,required:true,disabled:submitting}),/*#__PURE__*/_jsx(\"small\",{children:\"Explain why this land is being transferred\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"transferFee\",children:\"Transfer Fee (\\u20B9)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"transferFee\",type:\"number\",name:\"transferFee\",value:formData.transferFee,onChange:handleInputChange,min:\"0\",step:\"1\",disabled:submitting}),/*#__PURE__*/_jsx(\"small\",{children:\"Optional fee associated with this transfer\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",disabled:submitting,children:submitting?'Submitting...':'Submit Transfer Request'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cancel-button\",onClick:onCancel,disabled:submitting,children:\"Cancel\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"transfer-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Important Notes:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"This transfer request requires admin approval\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Make sure the new owner principal is correct\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Once approved, ownership will be permanently transferred\"}),/*#__PURE__*/_jsx(\"li\",{children:\"All attached documents will transfer with the land\"})]})]})]});};export default TransferForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","TransferForm","_ref","parcel","onSubmit","onCancel","formData","setFormData","newOwner","reason","transferFee","documents","submitting","setSubmitting","error","setError","handleInputChange","e","name","value","target","prev","Number","handleSubmit","preventDefault","trim","success","err","console","className","children","survey_number","village","district","htmlFor","id","type","onChange","placeholder","required","disabled","rows","min","step","onClick"],"sources":["D:/Kshetra/frontend/src/components/TransferForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { LandParcel } from '../services/LandRegistryService';\r\nimport './TransferForm.css';\r\n\r\ninterface TransferFormProps {\r\n  parcel: LandParcel;\r\n  onSubmit: (data: {\r\n    newOwner: string;\r\n    reason: string;\r\n    transferFee: number;\r\n    documents: string[];\r\n  }) => Promise<boolean>;\r\n  onCancel: () => void;\r\n}\r\n\r\nconst TransferForm: React.FC<TransferFormProps> = ({ parcel, onSubmit, onCancel }) => {\r\n  const [formData, setFormData] = useState({\r\n    newOwner: '',\r\n    reason: '',\r\n    transferFee: 0,\r\n    documents: [] as string[]\r\n  });\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ \r\n      ...prev, \r\n      [name]: name === 'transferFee' ? Number(value) : value \r\n    }));\r\n    setError(null);\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.newOwner.trim()) {\r\n      setError('New owner principal is required');\r\n      return;\r\n    }\r\n    \r\n    if (!formData.reason.trim()) {\r\n      setError('Reason for transfer is required');\r\n      return;\r\n    }\r\n    \r\n    if (formData.transferFee < 0) {\r\n      setError('Transfer fee cannot be negative');\r\n      return;\r\n    }\r\n\r\n    setSubmitting(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const success = await onSubmit(formData);\r\n      if (!success) {\r\n        setError('Transfer submission failed. Please try again.');\r\n      }\r\n    } catch (err) {\r\n      setError('An error occurred while submitting the transfer.');\r\n      console.error('Transfer error:', err);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"transfer-form\">\r\n      <div className=\"form-header\">\r\n        <h2>Transfer Ownership</h2>\r\n        <p>Parcel: {parcel.survey_number} ({parcel.village}, {parcel.district})</p>\r\n      </div>\r\n      \r\n      {error && (\r\n        <div className=\"error-message\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"newOwner\">New Owner Principal *</label>\r\n          <input\r\n            id=\"newOwner\"\r\n            type=\"text\"\r\n            name=\"newOwner\"\r\n            value={formData.newOwner}\r\n            onChange={handleInputChange}\r\n            placeholder=\"Enter the principal ID of the new owner\"\r\n            required\r\n            disabled={submitting}\r\n          />\r\n          <small>The Internet Computer principal ID of the new land owner</small>\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"reason\">Reason for Transfer *</label>\r\n          <textarea\r\n            id=\"reason\"\r\n            name=\"reason\"\r\n            value={formData.reason}\r\n            onChange={handleInputChange}\r\n            placeholder=\"Provide a reason for this ownership transfer\"\r\n            rows={4}\r\n            required\r\n            disabled={submitting}\r\n          />\r\n          <small>Explain why this land is being transferred</small>\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"transferFee\">Transfer Fee (â‚¹)</label>\r\n          <input\r\n            id=\"transferFee\"\r\n            type=\"number\"\r\n            name=\"transferFee\"\r\n            value={formData.transferFee}\r\n            onChange={handleInputChange}\r\n            min=\"0\"\r\n            step=\"1\"\r\n            disabled={submitting}\r\n          />\r\n          <small>Optional fee associated with this transfer</small>\r\n        </div>\r\n        \r\n        <div className=\"form-actions\">\r\n          <button \r\n            type=\"submit\" \r\n            className=\"submit-button\"\r\n            disabled={submitting}\r\n          >\r\n            {submitting ? 'Submitting...' : 'Submit Transfer Request'}\r\n          </button>\r\n          <button \r\n            type=\"button\" \r\n            className=\"cancel-button\" \r\n            onClick={onCancel}\r\n            disabled={submitting}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </form>\r\n      \r\n      <div className=\"transfer-info\">\r\n        <h4>Important Notes:</h4>\r\n        <ul>\r\n          <li>This transfer request requires admin approval</li>\r\n          <li>Make sure the new owner principal is correct</li>\r\n          <li>Once approved, ownership will be permanently transferred</li>\r\n          <li>All attached documents will transfer with the land</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransferForm;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}